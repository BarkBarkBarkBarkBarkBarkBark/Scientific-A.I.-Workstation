id: "saw.utility.db_browser"
name: "Database Browser (Utility)"
version: "0.1.0"
description: "Explore the SAW Postgres database in a separate Streamlit tab."
category_path: "utilities"
meta:
  human_description: "Launch a Streamlit database explorer in a new tab."
  machine_description: "Utility plugin that starts a Streamlit DB explorer and returns a URL."
  tags: ["utility", "streamlit", "database"]
entrypoint:
  file: "wrapper.py"
  callable: "main"
environment:
  python: ">=3.11,<3.13"
  pip: ["streamlit", "psycopg", "pandas"]
inputs: {}
params:
  db_url:
    type: "string"
    default: ""
    ui: { label: "Database URL (optional)" }
outputs:
  result:
    type: "object"
execution:
  deterministic: false
  cacheable: false
side_effects:
  network: "allowed"
  disk: "read_only"
  subprocess: "allowed"
resources:
  gpu: "forbidden"
  threads: 1
ui:
  mode: "schema"
  schema_file: "ui/declarative_ui.yaml"
  bundle_file: "ui/ui.bundle.js"
  sandbox: true
utility:
  kind: "external_tab"
  label: "Database Explorer"
  description: "Explore the SAW Postgres database in a new tab."
  menu_path: ["Utilities", "Data"]
  icon: "database"
  launch:
    action: "run_plugin"
    open_target: "new_tab"
    expect:
      type: "url"
      output_path: "result.data.url"
    app:
      kind: "streamlit"
      healthcheck: "/_stcore/health"
    session:
      allow_multiple: true
      reuse_when_open: true
