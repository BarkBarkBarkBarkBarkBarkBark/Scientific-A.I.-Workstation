id: "repo_intel_viewer"
name: "Repo Intel Viewer"
version: "0.1.0"
description: "Lightweight repo dependency viewer with a launch button."
category_path: "tools"
meta:
  human_description: "Launches a small web app to view repo import graph and not-imported files."
  machine_description: "Starts a local FastAPI viewer for the repo dependency graph."
  tags: ["repo", "graph", "viewer"]
  docs:
    readme: "README.md"
    agent_context: "AGENT_CONTEXT.md"
entrypoint:
  file: "wrapper.py"
  callable: "main"
environment:
  python: ">=3.11,<3.13"
  pip:
    - fastapi
    - uvicorn
    - httpx
    - jinja2
inputs: {}
params:
  repo_root:
    type: string
    required: false
    default: ""
    description: "Repo root to scan (absolute or relative). Leave blank to use the workspace repo root."
  include_python:
    type: boolean
    required: false
    default: true
  include_ts:
    type: boolean
    required: false
    default: true
  include_tests:
    type: boolean
    required: false
    default: true
  scope_prefix:
    type: string
    required: false
    default: ""
    description: "Optional path prefix (relative to repo_root) to limit scanning."
  max_files:
    type: integer
    required: false
    default: 6000
  launch_viewer:
    type: boolean
    required: false
    default: false
    description: "When true, starts the viewer server and opens a browser window."
outputs:
  status:
    type: "string"
execution:
  deterministic: false
  cacheable: false
side_effects:
  network: "allowed"
  disk: "read_only"
  subprocess: "allowed"
resources:
  gpu: "forbidden"
  threads: 1

ui:
  mode: "schema"
  schema_file: "ui/declarative_ui.yaml"
  sandbox: true
